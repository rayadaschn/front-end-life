import{_ as e,Z as t,F as p,a1 as o,a0 as c,X as i,Y as l,$ as u}from"./framework-5dd7fabc.js";const r={},s=t,k=p,d=o,n=c,m=u,v=i,g=l,b=s("p",null,"åœ¨ä¸Šä¸€èŠ‚ï¼Œä»‹ç»äº† cesium çš„å¼€å‘ç¯å¢ƒé…ç½®ï¼Œåœ¨æœ¬å°èŠ‚ä¸­å°†åœ¨å‰æ–‡çš„åŸºç¡€ä¸Šå¼€å‘ç¬¬ä¸€ä¸ª cesium åº”ç”¨ã€‚",-1),y={href:"https://cesium.com/",target:"_blank",rel:"noopener noreferrer"},h=m(`<div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>è‹¥å¼€å‘è¿‡ç¨‹ä¸­ä¸å±•ç°ä¸‰ç»´åœ°å›¾ï¼Œæˆ–è€…æ§åˆ¶å°æŠ¥é”™æ‰¾ä¸åˆ° API key æˆ– Invalid access token ç­‰ï¼Œéƒ½æ˜¯å› ä¸ºä»¤ç‰Œ token æœªé…ç½®å¥½çš„ç¼˜æ•…ã€‚</p><p>æœ¬é¡¹ç›®ä¸­çš„ token æ–‡ä»¶æœªè¢« git è¿½è¸ªï¼Œè¯·è‡ªè¡Œç”³è¯·ã€‚</p></div><figure><img src="https://cdn.jsdelivr.net/gh/rayadaschn/blogImage@master/img/202406011540244.png" alt="Token è¿‡æœŸ" tabindex="0" loading="lazy"><figcaption>Token è¿‡æœŸ</figcaption></figure><h2 id="å¼€å‘ç¬¬ä¸€ä¸ª-cesium-åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#å¼€å‘ç¬¬ä¸€ä¸ª-cesium-åº”ç”¨" aria-hidden="true">#</a> å¼€å‘ç¬¬ä¸€ä¸ª cesium åº”ç”¨</h2><p>é¦–å…ˆåœ¨é¡µé¢å®šä¹‰ä¸€ä¸ªé“ºæ»¡æ•´ä¸ªå±å¹•çš„ div å…ƒç´ ï¼Œå¹¶è®¾ç½®å…¶ id ä¸º <code>cesiumContainer</code>ï¼Œåœ¨ vue ä¸­è¦è·å–åˆ°è¯¥å…ƒç´ åˆ™éœ€è¦é¢å¤–æŒ‚è½½ <code>ref</code>ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cesium-viewer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewerDivRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#cesium-viewer</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†åˆ›å»ºä¸€ä¸ª Cesium å®ä¾‹ï¼ŒæŒ‚è½½åˆ° <code>ref</code> å®šä¹‰çš„ div å…ƒç´ ä¸Šã€‚ä¾¿å¯ä»¥åœ¨é¡µé¢ä¸­çœ‹åˆ°ä¸€ä¸ªä¸‰ç»´åœ°çƒäº†ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ vue ä¸­ï¼ŒCesium å®ä¾‹çš„æŒ‚è½½è¦åœ¨ <code>onMounted</code> ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­è¿›è¡Œï¼ˆcreated æ—¶ï¼Œå…ƒç´ è¿˜æœªåˆ›å»ºï¼Œæ— æ³•æŒ‚è½½ï¼‰ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Ion<span class="token punctuation">,</span> Viewer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;cesium&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;cesium/Build/CesiumUnminified/Widgets/widgets.css&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">CESIUM_TOKEN</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/const&#39;</span>

<span class="token keyword">const</span> viewerDivRef <span class="token operator">=</span> ref<span class="token operator">&lt;</span>HTMLDivElement<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token doc-comment comment">/** cesium Token */</span>
Ion<span class="token punctuation">.</span>defaultAccessToken <span class="token operator">=</span> <span class="token constant">CESIUM_TOKEN</span>

<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Viewer</span><span class="token punctuation">(</span>viewerDivRef<span class="token punctuation">.</span>value <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;ğŸš€ ~ onMounted ~ viewer:&#39;</span><span class="token punctuation">,</span> viewer<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cesium-viewer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewerDivRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">#cesium-viewer</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.jsdelivr.net/gh/rayadaschn/blogImage@master/img/202406011555945.png" alt="åˆå§‹ Cesium åº”ç”¨" tabindex="0" loading="lazy"><figcaption>åˆå§‹ Cesium åº”ç”¨</figcaption></figure><h2 id="å¼€å‘åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#å¼€å‘åŸºç¡€" aria-hidden="true">#</a> å¼€å‘åŸºç¡€</h2><p>æœ¬èŠ‚å°†è¿…é€Ÿè¿‡ä¸€é Cesium å¼€å‘çš„åŸºç¡€çŸ¥è¯†ï¼Œä»¥ä¾¿å¼€å‘è€…èƒ½å¤Ÿå¿«é€Ÿä¸Šæ‰‹ã€‚</p><h3 id="cesium-æ ¸å¿ƒç±»" tabindex="-1"><a class="header-anchor" href="#cesium-æ ¸å¿ƒç±»" aria-hidden="true">#</a> Cesium æ ¸å¿ƒç±»</h3><ol><li>Viewerï¼šä¸‰ç»´åœ°çƒçš„å®¹å™¨ï¼Œæ˜¯ Cesium åº”ç”¨çš„æ ¸å¿ƒç±»ã€‚</li><li>Sceneï¼šåœºæ™¯ï¼Œæ˜¯ä¸‰ç»´åœ°çƒçš„å®¹å™¨ï¼ŒåŒ…å«ç›¸æœºã€å…‰æºã€æ¸²æŸ“å™¨ç­‰ã€‚</li><li>Entityï¼šå®ä½“ï¼Œæ˜¯ä¸‰ç»´åœºæ™¯ä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æ·»åŠ åˆ°åœºæ™¯ä¸­ã€‚</li><li>Primitiveï¼šåŸå§‹å›¾å½¢ï¼Œæ˜¯ä¸‰ç»´åœºæ™¯ä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æ·»åŠ åˆ°åœºæ™¯ä¸­ã€‚</li><li>DataSourceCollectionï¼šæ•°æ®æºé›†åˆï¼Œç”¨äºç®¡ç†æ•°æ®æºã€‚</li></ol><h4 id="viewer" tabindex="-1"><a class="header-anchor" href="#viewer" aria-hidden="true">#</a> Viewer</h4><p>Viewer ç±»æ˜¯ Cesium åº”ç”¨çš„æ ¸å¿ƒç±»ï¼Œå®ƒè´Ÿè´£åˆ›å»ºå’Œç»´æŠ¤ Cesium åœºæ™¯ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&#39;cesiumContainer&#39;</span><span class="token punctuation">,</span> Options<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ›å»ºè¯­æ³•ä¸ºï¼Œä¼ å…¥ä¸€ä¸ª Cesium åœ°å›¾ä¸»çª—å£çš„ div çš„ IDï¼Œåœ¨ vue ä¸­ï¼Œéœ€è¦ä¼ å…¥ <code>ref</code> å®šä¹‰çš„ div çš„ IDã€‚</p><p>è€Œå¸¸ç”¨çš„ Options é€‰é¡¹ä¸ºï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&#39;cesiumContainer&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">animation</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºåŠ¨ç”»æ§ä»¶</span>
  <span class="token literal-property property">baseLayerPicker</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºå›¾å±‚é€‰æ‹©æ§ä»¶</span>
  <span class="token literal-property property">fullscreenButton</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºå…¨å±æŒ‰é’®</span>
  <span class="token literal-property property">geocoder</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤º Geo(å³ä¸Šè§’æŸ¥è¯¢æŒ‰é’®)</span>
  <span class="token literal-property property">homeButton</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºhomeæŒ‰é’®</span>
  <span class="token literal-property property">infoBox</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºä¿¡æ¯æ¡†</span>
  <span class="token literal-property property">sceneModePicker</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºåœºæ™¯æ§åˆ¶é¢æ¿(ä¸‰ç»´/äºŒç»´åˆ‡æ¢æŒ‰é’®)</span>
  <span class="token literal-property property">selectionIndicator</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºå›¾å±‚é€‰æ‹©æ§ä»¶(é¼ æ ‡ç‚¹å‡»æ˜¾ç¤ºç»¿æ¡†)</span>
  <span class="token literal-property property">navigationHelpButton</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯æ§ä»¶</span>
  <span class="token literal-property property">timeline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºæ—¶é—´çº¿æ§ä»¶</span>
  <span class="token literal-property property">navigationInstructionsInitiallyVisible</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºå¯¼èˆªè¯´æ˜æ§ä»¶</span>
  <span class="token literal-property property">scene3DOnly</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦åªæ˜¾ç¤ºä¸‰ç»´åœ°å›¾</span>
  <span class="token literal-property property">shouldAnimate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦è‡ªåŠ¨æ’­æ”¾åŠ¨ç”»</span>
  <span class="token literal-property property">shadows</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦æ˜¾ç¤ºå…‰ç…§æŠ•å°„çš„é˜´å½±</span>
  <span class="token literal-property property">clock</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// åœºæ™¯çš„æ—¶é’Ÿ</span>
  <span class="token comment">// è®¾ç½®åº•å±‚åœ°å›¾æœåŠ¡, ä»…åœ¨ baseLayerPicker è®¾ç½®ä¸º false æ—¶ç”Ÿæ•ˆ</span>
  <span class="token literal-property property">imageryProvider</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>UrlTemplateImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;https://a.tile.openstreetmap.org/{z}/{x}/{y}.png&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="scene" tabindex="-1"><a class="header-anchor" href="#scene" aria-hidden="true">#</a> Scene</h4><p>Scene ç±»æ˜¯ Cesium åœºæ™¯é…ç½®çš„å®¹å™¨ï¼ŒåŒ…å«ç›¸æœºã€å…‰æºã€æ¸²æŸ“å™¨ç­‰ã€‚è¯¦ç»†é…ç½®åœ¨åç»­å±•å¼€ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&#39;cesiumContainer&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sceneModePicker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> scene <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="entity" tabindex="-1"><a class="header-anchor" href="#entity" aria-hidden="true">#</a> Entity</h4><p>Entity ç±»æ˜¯ Cesium åœºæ™¯ä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æ·»åŠ åˆ°åœºæ™¯ä¸­ã€‚å®ƒæ˜¯ç”± Primitive ç±»æ´¾ç”Ÿå‡ºæ¥çš„ï¼Œå¯ä»¥æ·»åŠ åˆ°åœºæ™¯ä¸­çš„å¯¹è±¡ï¼Œæ¯”å¦‚ç‚¹ã€çº¿ã€é¢ç­‰ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&#39;cesiumContainer&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sceneModePicker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> scene <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene
<span class="token keyword">const</span> entity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">116.40332</span><span class="token punctuation">,</span> <span class="token number">39.90498</span><span class="token punctuation">,</span> <span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">point</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">pixelSize</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
scene<span class="token punctuation">.</span>primitives<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>entity<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="primitive" tabindex="-1"><a class="header-anchor" href="#primitive" aria-hidden="true">#</a> Primitive</h4><p>Primitive ç±»æ˜¯ Cesium åœºæ™¯ä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æ·»åŠ åˆ°åœºæ™¯ä¸­ã€‚åç»­è¯¦ç»†ä»‹ç»ã€‚</p><h4 id="datasourcecollection" tabindex="-1"><a class="header-anchor" href="#datasourcecollection" aria-hidden="true">#</a> DataSourceCollection</h4><p>DataSourceCollection æ˜¯ Cesium ä¸­åŠ è½½çŸ¢é‡æ•°æ®çš„ä¸»è¦æ–¹å¼ä¹‹ä¸€ï¼Œæœ€å¤§ç‰¹ç‚¹æ˜¯æ”¯æŒåŠ è½½çŸ¢é‡æ•°æ®é›†ä¸å¤–éƒ¨æ–‡ä»¶çš„è°ƒç”¨ï¼Œä¸»è¦åˆ†ä¸º CzmlDataSource å’Œ GeoJsonDataSource å’Œ KmlDataSource ä¸‰ç§ï¼Œåˆ†åˆ«å¯¹åº” CZMLã€GeoJSONã€KML ä¸‰ç§æ ¼å¼ã€‚</p><h3 id="cesium-åæ ‡ç³»ç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#cesium-åæ ‡ç³»ç³»ç»Ÿ" aria-hidden="true">#</a> Cesium åæ ‡ç³»ç³»ç»Ÿ</h3><p>Cesium åæ ‡ç³»ç³»ç»Ÿåˆ†å…±æœ‰ä¸‰ç§ï¼šå±å¹•åæ ‡ç³»ã€ç¬›å¡å°”ç©ºé—´åæ ‡ç³»å’Œåœ°ç†åæ ‡ç³»ã€‚</p><ol><li>å±å¹•åæ ‡ç³»ï¼šå±å¹•åæ ‡ç³»æ˜¯äºŒç»´ç¬›å¡å°”åæ ‡ç³»ä»¥å±å¹•å·¦ä¸Šè§’ä¸ºåŸç‚¹çš„åæ ‡ç³»ï¼Œx è½´å‘å³ï¼Œy è½´å‘ä¸‹ã€‚</li><li>ç¬›å¡å°”ç©ºé—´åæ ‡ç³»ï¼šç¬›å¡å°”åæ ‡ç³»æ˜¯ä»¥ä¸‰ç»´ç©ºé—´ä¸­çš„åŸç‚¹ä¸ºåŸç‚¹çš„åæ ‡ç³»ï¼Œx è½´å‘å‚ç›´å±å¹•ï¼Œy è½´å‘å³ï¼Œz è½´å‘ä¸Šã€‚ <img src="https://cdn.jsdelivr.net/gh/rayadaschn/blogImage@master/img/202406012315509.png" alt="ç¬›å¡å°”ç©ºé—´åæ ‡ç³»" loading="lazy"></li><li>åœ°ç†åæ ‡ç³»ï¼šåœ°ç†åæ ‡ç³»ä¸€èˆ¬æ˜¯æŒ‡ç”±ç»åº¦(longitude)ã€çº¬åº¦(latitude)å’Œç›¸å¯¹é«˜åº¦ç»„æˆçš„åæ ‡ç³»ï¼Œèƒ½å¤Ÿæ ‡ç¤ºåœ°çƒä¸Šçš„ä»»ä½•ä¸€ä¸ªä½ç½®ã€‚åœ¨æµ‹ç»˜é¢†åŸŸå¸¸ç”¨çš„å°±æ˜¯ GPS çš„ WGS84 åæ ‡ç³»ï¼Œå…¶åæ ‡åŸç‚¹ä¸ºåœ°çƒä¸­å¿ƒï¼Œx è½´æŒ‡å‘èµ¤é“ï¼Œy è½´æŒ‡å‘ä¸œç»ï¼Œz è½´å‚ç›´åœ°çƒè¡¨é¢ã€‚ <img src="https://cdn.jsdelivr.net/gh/rayadaschn/blogImage@master/img/202406012320066.png" alt="åœ°ç†åæ ‡ç³»" loading="lazy"></li></ol><p>åœ¨å¼€å‘ä¸­ï¼Œéœ€è¦æŒæ¡çš„å°±æ˜¯å®ƒä»¬ä¹‹é—´çš„è½¬æ¢å…³ç³»ã€‚</p><ol><li><p>è§’åº¦å’Œå¼§åº¦ä¹‹é—´çš„è½¬æ¢ã€‚ <strong>å¼§åº¦</strong>å®šä¹‰æ˜¯åœ†å¼§é•¿åº¦ç­‰äºåŠå¾„æ—¶çš„åœ†å¿ƒè§’ã€‚ä»¥åº¦æ•°è¡¨ç¤ºçš„è§’ï¼ŒæŠŠæ•°å­—ä¹˜ä»¥ <code>ğœ‹/180</code> ä¾¿è½¬æ¢æˆå¼§åº¦ï¼›ä»¥å¼§åº¦è¡¨ç¤ºçš„è§’ï¼Œä¹˜ä»¥ <code>180/ğœ‹</code> ä¾¿è½¬æ¢æˆåº¦æ•°ã€‚</p><figure><img src="https://cdn.jsdelivr.net/gh/rayadaschn/blogImage@master/img/202406012328743.png" alt="å¼§åº¦" tabindex="0" loading="lazy"><figcaption>å¼§åº¦</figcaption></figure><p>è§’åº¦è½¬å¼§åº¦åœ¨ Cesium ä¸­çš„å®ç°ä¸ºï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> radians <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span>degrees<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¼§åº¦è½¬è§’åº¦åœ¨ Cesium ä¸­çš„å®ç°ä¸ºï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> degrees <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toDegrees</span><span class="token punctuation">(</span>radians<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>ç»çº¬åº¦å’Œç¬›å¡å°”ç©ºé—´åæ ‡ä¹‹é—´çš„è½¬æ¢ã€‚</p><p>2.1 ç›´æ¥é€šè¿‡ç»çº¬åº¦è¿›è¡Œè½¬åŒ–ï¼ŒCesium é»˜è®¤ WGS-84 ç»çº¬åº¦åæ ‡ï¼Œå¯ç›´æ¥ä½¿ç”¨ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> cartesian <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span>longitude<span class="token punctuation">,</span> latitude<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2.2 é€šè¿‡æ¤­çƒä½“è¿›è¡Œè½¬åŒ–ã€‚é€šè¿‡å…¶ä»–ç©ºé—´åæ ‡ç³»è½¬æ¢ä¸ºç¬›å¡å°”ç©ºé—´åæ ‡ç³»ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> ellipsoid <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Ellipsoid<span class="token punctuation">.</span><span class="token constant">WGS84</span>
<span class="token keyword">const</span> position <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span>longitude<span class="token punctuation">,</span> latitude<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
<span class="token keyword">const</span> cartographic <span class="token operator">=</span> ellipsoid<span class="token punctuation">.</span><span class="token function">cartesianToCartographic</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span> <span class="token comment">// ç»çº¬åº¦åæ ‡ç³»</span>
<span class="token keyword">const</span> cartesian <span class="token operator">=</span> ellipsoid<span class="token punctuation">.</span><span class="token function">cartographicToCartesian</span><span class="token punctuation">(</span>cartographic<span class="token punctuation">)</span> <span class="token comment">// ç¬›å¡å°”ç©ºé—´åæ ‡ç³»</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å±å¹•åæ ‡å’Œç¬›å¡å°”ç©ºé—´åæ ‡ç³»ä¹‹é—´è½¬æ¢ã€‚</p><p>é€šå¸¸äºŒç»´æ˜¯è½¬æ¢ä¸äº†ä¸‰ç»´çš„ï¼Œæƒ³è±¡ä¸€ä¸‹è§†çº¿ä»å±å¹•ä¸Šç»è¿‡ä¸€ä¸ªä¸‰ç»´ç‰©ä½“ï¼Œå±å¹•ä¸Šæ˜¾ç¤ºçš„åªæœ‰äºŒç»´çš„æŠ•å½±ã€‚å®é™…ä¸Šå°±æ˜¯è·å–ä¸‰ç»´æŠ•å½±çš„äºŒç»´åæ ‡ï¼Œè¯¥ç‚¹å¯ç¡®å®šå”¯ä¸€ã€‚</p><p>3.1 å±å¹•åæ ‡ç³»è½¬åœºæ™¯ç©ºé—´ç›´è§’åæ ‡ç³»ï¼Œè¿™é‡Œçš„åœºæ™¯åŒ…å«äº†åœ°å½¢ã€å€¾æ–œæ‘„å½±æµ‹é‡æ¨¡å‹ç­‰å…¶ä»–ä¸‰ç»´æ¨¡å‹çš„åæ ‡ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> ray <span class="token operator">=</span> viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">getPickRay</span><span class="token punctuation">(</span>windowPosition<span class="token punctuation">)</span> <span class="token comment">// å±å¹•åæ ‡ç³»</span>
<span class="token keyword">const</span> cartesian <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span><span class="token function">pick</span><span class="token punctuation">(</span>ray<span class="token punctuation">,</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">)</span> <span class="token comment">// åœºæ™¯ç©ºé—´ç›´è§’åæ ‡ç³»</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>3.2 å±å¹•åæ ‡ç³»è½¬æ¤­çƒé¢ç¬›å¡å°”ç©ºé—´åæ ‡</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> canvas <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>canvas
<span class="token keyword">const</span> center <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian2</span><span class="token punctuation">(</span>
  canvas<span class="token punctuation">.</span>clientWidth <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">,</span>
  canvas<span class="token punctuation">.</span>clientHeight <span class="token operator">/</span> <span class="token number">2.0</span>
<span class="token punctuation">)</span>
<span class="token keyword">const</span> ellipsoid <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span>ellipsoid
<span class="token keyword">const</span> result <span class="token operator">=</span> viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">pickEllipsoid</span><span class="token punctuation">(</span>center<span class="token punctuation">,</span> ellipsoid<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="cesium-ç›¸æœºç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#cesium-ç›¸æœºç³»ç»Ÿ" aria-hidden="true">#</a> Cesium ç›¸æœºç³»ç»Ÿ</h3><p>é¦–å…ˆæ˜ç¡® cesium ä¸­ç›¸æœºæ–¹å‘ orientation è®¾å®šåŸç†å’Œå³æ‰‹ç¬›å¡å°”åæ ‡ç³»å«ä¹‰ç›¸ä¼¼ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°†å³æ‰‹çš„ä¸­æŒ‡æŒ‡å‘è‡ªå·±ï¼Œå³ä¸º cesium ä¸­çš„ç›¸æœºåæ ‡ç³»ã€‚</p><ol><li>y è½´ï¼ˆheadingï¼‰ï¼šæœä¸Šï¼Œé»˜è®¤æ­£åŒ—ã€‚æ—‹è½¬çš„æ­£è§’åº¦åŒåœ°çƒè‡ªè½¬ï¼Œè‡ªè¥¿å‘ä¸œï¼Œç”±<strong>åèˆªè§’</strong>ã€‚ç®€å•ç†è§£å°±æ˜¯ç«™ç«‹çš„äººå·¦å³æ—‹è½¬è§’åº¦ã€‚</li><li>x è½´ï¼ˆpitchï¼‰ï¼šæœå³ï¼Œé»˜è®¤æ­£ä¸œã€‚æ—‹è½¬è§’åº¦åƒä¸€å¼ å¹³é“ºçš„çº¸ï¼Œé»˜è®¤æ—‹è½¬è§’åº¦ä¸º <code>-90</code>ï¼Œå³æœå‘åœ°é¢ã€‚æ—‹è½¬èµ·æ¥åƒäººä¿¯è§†å‘ä¸‹ï¼Œæˆ–ä»°è§†æŠ¬å¤´ï¼Œæ‰€ä»¥åˆå«<strong>ä¿¯ä»°è§’</strong>ã€‚</li><li>z è½´ï¼ˆrollï¼‰ï¼šæœè‡ªå·±ã€‚é»˜è®¤æ—‹è½¬è§’åº¦ä¸º 0ï¼Œæ­£è§’åº¦å‘å³æ—‹è½¬ï¼Œåƒä¸€ä¸ªäººå·¦å³ä¾§ç©ºç¿»ï¼Œæ‰€ä»¥åˆå«<strong>ç¿»æ»šè§’</strong>ã€‚</li></ol><figure><img src="https://cdn.jsdelivr.net/gh/rayadaschn/blogImage@master/img/202406020037386.png" alt="å·¦æ‰‹åæ ‡ç³»å’Œå³æ‰‹åæ ‡ç³»" tabindex="0" loading="lazy"><figcaption>å·¦æ‰‹åæ ‡ç³»å’Œå³æ‰‹åæ ‡ç³»</figcaption></figure><p>ä»¥ä¸Šä¸‰é¡¹æ„æˆäº†ç›¸æœºè§†è§’çš„æ–¹å‘:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> position <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span>longitude<span class="token punctuation">,</span> latitude<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">destination</span><span class="token operator">:</span> position<span class="token punctuation">,</span> <span class="token comment">// ç›¸æœºç›®çš„åœ°</span>
  <span class="token literal-property property">orientation</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">heading</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// åèˆªè§’</span>
    <span class="token literal-property property">pitch</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ä¿¯ä»°è§’</span>
    <span class="token literal-property property">roll</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// ç¿»æ»šè§’</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,39);function w(f,C){const a=k("ExternalLinkIcon");return v(),g("div",null,[b,s("p",null,[n("åœ¨å¼€å‘ä¹‹å‰ï¼Œå»ºè®®å¼€å‘è€…è‡ªè¡Œç”³è¯·ä¸€ä¸ªå•ç‹¬ä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œä¾¿äºè°ƒç”¨é»˜è®¤çš„ Bing åœ°å›¾ã€‚ç”³è¯·æ–¹å¼åœ¨ cesium "),s("a",y,[n("å®˜ç½‘"),d(a)]),n("ã€‚")]),h])}const j=e(r,[["render",w],["__file","Cesium03.html.vue"]]);export{j as default};
