import{_ as l,X as d,Z as t,$ as i,V as n,W as r,F as s,Y as a}from"./framework-2eee3422.js";const p={},e=d,o=t,u=s,k=i,m=a,h=n,g=r,_=e("h1",{id:"docker-入门",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#docker-入门","aria-hidden":"true"},"#"),o(" Docker 入门")],-1),b=e("h2",{id:"前置知识",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#前置知识","aria-hidden":"true"},"#"),o(" 前置知识")],-1),v=e("strong",null,"systemctl",-1),x={href:"https://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html",target:"_blank",rel:"noopener noreferrer"},D=e("strong",null,"ctl的意思是control，也就是控制",-1),f=m(`<p><strong>Docker</strong> 是什么? 为了解决运行环境和配置问题的软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术。</p><h2 id="安装及常用命令" tabindex="-1"><a class="header-anchor" href="#安装及常用命令" aria-hidden="true">#</a> 安装及常用命令</h2><p>值得注意的是，Docker 并非是一个通用的容器工具，它依赖于已存在并运行的 Linux 内核环境。因此，Docker 必须部署在 Linux 内核的系统上。</p><p>CentOS 安装：</p><ol><li>安装： <code>yum -y install docker-ce docker-ce-cli containerd.io </code></li><li>启动 Docker： <code>systemctl start docker</code></li><li>测试：<code>docker version</code></li><li>卸载： <ul><li><code>systemctl stop docker</code></li><li><code>yum remove docker-ce docker-ce-cli containerd.io</code></li><li><code>rm -rf /var/lib/docker</code></li><li><code>rm -rf /var/lib/containerd</code></li></ul></li></ol><p>容器常用指令：</p><p>有镜像才能创建容器，下载镜像相当于下拉包：</p><ul><li>下载 CentOS：<code>docker pull centos</code></li><li>下载 Ubuntu：<code>docker pull ubuntu</code></li></ul><ol><li><p>新建并启动容器：<code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code></p><ul><li><p>OPTIONS 说明 有些是一个 “<code>-</code>”有些是俩个“<code>--</code>”；</p></li><li><p><code>--name</code> 容器新名字，为容器指定一个名称；</p></li><li><p><code>-d</code>：后台运行容器 ID，即启动后台守护式容器；</p></li><li><p><code>-i</code>：表示将标准输入 (stdin) 绑定到容器的交互式 shell。这个选项可以让你将本地计算机上的文件传递给容器，或者从容器中提取文件到本地计算机。，通常与“<code>-t</code>” 同时使用；</p></li><li><p><code>-t</code>：在创建容器时为其分配一个伪终端 (pseudo-tty)，生成可交互的 shell 环境。这个选项可以让你在容器内部执行命令，并且可以像在本地终端一样与容器交互。通常与“<code>-i</code>”同时使用；</p></li><li><p><code>-P</code>：大写 P 为随即端口映射；</p></li><li><p><code>-p</code>：小写 p 为指定端口。</p></li></ul><blockquote><p><code>-it</code> 与 <code>-d</code> 的区别：</p><p><code>docker run -it ubuntu bash</code> ： 前台命令行交互；</p><p><code>docker run -d nginx</code>：容器后台运行。</p></blockquote></li><li><p>列出当前所有正在运行的容器：<code>docker ps [OPTIONS]</code></p><ul><li><code>-a</code>：列出当前所有正在运行的容器 + 历史上运行过的；</li><li><code>-l</code>：显示最近创建的容器；</li><li><code>-n</code>：显示最近 n 个创建的容器；</li><li><code>-q</code>：静默模式，只显示编号。</li></ul></li><li><p>退出容器：</p><ul><li>exit：run 进去容器，exit 退出，容器停止；</li><li>ctrl + p + q：run 进去容器， ctrl + p + q 退出，容器不停止。</li></ul></li><li><p>启动已经停止运行的容器：<code>docker start &lt;容器 ID 或容器名&gt;</code></p></li><li><p>重启容器：<code>docker restart &lt;容器 ID 或容器名&gt;</code></p></li><li><p>停止容器：<code>docker stop &lt;容器 ID 或容器名&gt;</code></p></li><li><p>强制停止容器：<code>docker kill &lt;容器 ID 或容器名&gt;</code></p></li><li><p>删除已停止的容器：<code>docker rm &lt;容器 ID&gt;</code></p></li><li><p>查看容器日志：<code>docker logs &lt;容器 ID&gt;</code></p></li><li><p>查看容器内运行的进程：<code>docker top &lt;容器 ID&gt;</code></p></li><li><p>查看容器内部细节：<code>docker inspect &lt;容器 ID&gt;</code></p></li><li><p>进入正在运行的容器并以命令行交互：<code>docker exec -it &lt;容器 ID&gt; bashShell</code></p></li><li><p>从容器内部拷贝文件到主机上：<code>docker cp &lt;容器 ID&gt; &lt;目的主机路径&gt;</code></p></li><li><p>导入容器：<code>cat &lt;文件名.文件后缀&gt; | docker import - &lt;镜像用户/镜像名:镜像版本号&gt;</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$: <span class="token function">cat</span> README.md <span class="token operator">|</span> <span class="token function">docker</span> <span class="token function">import</span> - huy/ubuntu:2.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>导出容器：<code>docker export &lt;容器 ID&gt; &gt; &lt;文件名.文件后缀&gt;</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$: <span class="token function">docker</span> <span class="token builtin class-name">export</span> <span class="token number">123456</span> <span class="token operator">&gt;</span> README.md
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol>`,9);function I(y,N){const c=u("ExternalLinkIcon");return h(),g("div",null,[_,b,e("p",null,[v,o(" 指令，可以查阅《"),e("a",x,[o("Systemd 入门教程：命令篇"),k(c)]),o("》。system 是一个 systemd 工具，主要负责控制 systemd 系统和服务管理器。诸如 timedatectl 等以 ctl 结尾的命令，其中 "),D,o("。")]),f])}const O=l(p,[["render",I],["__file","docker01.html.vue"]]);export{O as default};
