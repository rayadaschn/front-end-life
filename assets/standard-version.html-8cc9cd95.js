import{_ as d,Z as t,a0 as o,F as r,a1 as l,X as c,Y as p,$ as v}from"./framework-97fa2d96.js";const u={},e=t,n=o,m=r,s=l,i=v,g=c,b=p,h=e("p",null,"standard-version æ˜¯ä¸€ä¸ªåŸºäº Conventional Commits è§„èŒƒçš„ç‰ˆæœ¬è‡ªåŠ¨åŒ–ç®¡ç†å·¥å…·ã€‚å®ƒå¯ä»¥è‡ªåŠ¨åŒ–åœ°ç”Ÿæˆ changelogã€æ›´æ–°ç‰ˆæœ¬å·å’Œç”Ÿæˆ git æ ‡ç­¾ç­‰æ“ä½œï¼Œä½¿å¾—ç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒæµç¨‹æ›´åŠ è§„èŒƒåŒ–å’Œè‡ªåŠ¨åŒ–ã€‚",-1),k=e("p",null,[n("Conventional Commit è§„èŒƒåœ¨"),e("a",{href:"GitOperationManuals"},"ã€ŠGit æ“ä½œæ‰‹å†Œã€‹"),n(" ä¸€æ–‡ä¸­ä»‹ç»è¿‡ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚æœ¬æ–‡ä»‹ç»ä¸€ä¸‹ standard-version è¿™ä¸ªå·¥å…·æ˜¯å¦‚ä½•é€šè¿‡ package.json æ›´æ–° CHANGELOG çš„ã€‚")],-1),_={href:"https://github.com/conventional-changelog/standard-version#bumpfiles-packagefiles-and-updaters",target:"_blank",rel:"noopener noreferrer"},f=i(`<h2 id="åŸºæœ¬çš„-git-å‘ç‰ˆè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬çš„-git-å‘ç‰ˆè¿‡ç¨‹" aria-hidden="true">#</a> åŸºæœ¬çš„ Git å‘ç‰ˆè¿‡ç¨‹</h2><p>ä¸€ä¸ªåŸºæœ¬çš„ Git ç‰ˆæœ¬å‘å¸ƒæµç¨‹ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å…·ä½“æ­¥éª¤ï¼š</p><ul><li><code>git pull origin master</code>ï¼šä»è¿œç¨‹ä»“åº“çš„ master åˆ†æ”¯æ‹‰å–æœ€æ–°ä»£ç ã€‚è¿™æ˜¯ä¸ºäº†ç¡®ä¿æœ¬åœ°ä»£ç ä¸è¿œç¨‹ä»£ç ä¿æŒåŒæ­¥ï¼Œé¿å…ç‰ˆæœ¬å†²çªã€‚</li><li>æ ¹æ® package.json ä¸­çš„ version æ›´æ–°ç‰ˆæœ¬å·å’Œ changelogã€‚é€šå¸¸å¯ä»¥ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·ï¼Œå¦‚ standard-version æˆ– npm version ç­‰ï¼Œæ¥è‡ªåŠ¨ç”Ÿæˆç‰ˆæœ¬å·å’Œ changelogï¼Œä»¥æé«˜ç‰ˆæœ¬ç®¡ç†çš„è§„èŒƒæ€§å’Œæ•ˆç‡ã€‚</li><li><code>git add -A</code>ï¼šå°†æ‰€æœ‰å˜æ›´çš„æ–‡ä»¶æ·»åŠ åˆ° Git æš‚å­˜åŒºã€‚</li><li><code>git commit</code>ï¼šæäº¤æ”¹åŠ¨åˆ°æœ¬åœ° Git ä»“åº“ï¼Œå¹¶æ·»åŠ æäº¤ä¿¡æ¯ã€‚æäº¤ä¿¡æ¯åº”å½“æ¸…æ™°ã€ç®€æ´ã€æ˜ç¡®ï¼Œä»¥ä¾¿å…¶ä»–å¼€å‘äººå‘˜ç†è§£æ”¹åŠ¨çš„å†…å®¹ã€‚</li><li><code>git tag</code>ï¼šæ‰“ä¸Šç‰ˆæœ¬å·æ ‡ç­¾ï¼Œå¹¶å°†æ ‡ç­¾æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ <code>git tag v1.0.0</code> å‘½ä»¤æ‰“ä¸Šç‰ˆæœ¬å·ä¸º 1.0.0 çš„æ ‡ç­¾ã€‚æ ‡ç­¾å¯ä»¥æ–¹ä¾¿åœ°æ ‡è®°ç‰ˆæœ¬å’Œå‘å¸ƒä¿¡æ¯ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ç”¨äº Git å›é€€å’Œæ¯”è¾ƒç­‰æ“ä½œã€‚</li><li><code>git push</code>ï¼šå°†æœ¬åœ°ä»£ç å’Œæ ‡ç­¾æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ <code>git push origin master --tags</code> å‘½ä»¤å°†æœ¬åœ° master åˆ†æ”¯å’Œæ‰€æœ‰æ ‡ç­¾æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚</li></ul><p>ä¸Šè¿°è¿‡ç¨‹ä¸­ç»å¤§éƒ¨åˆ†å¯ä»¥é€šè¿‡ standard-version æ¥è‡ªåŠ¨åŒ–å®Œæˆï¼Œä»¥å‡å°‘æ„å¤–çš„äº§ç”Ÿã€‚</p><p>standard-version æ‰€åšçš„äº‹æƒ…å®é™…ä¸Šå°± 3 ç‚¹: è‡ªåŠ¨åŒ–å‡çº§ <code>package.json</code> ä¸­çš„ç‰ˆæœ¬å·ã€æ›´æ–°/ç”Ÿæˆ <code>CHANGELOG.md</code> å’Œ tag ç‰ˆæœ¬ã€‚ä¸‹é¢çœ‹ä¸€ä¸‹å…·ä½“å¦‚ä½•ä½¿ç”¨ã€‚</p><h2 id="å®‰è£…å’Œé…ç½®" tabindex="-1"><a class="header-anchor" href="#å®‰è£…å’Œé…ç½®" aria-hidden="true">#</a> å®‰è£…å’Œé…ç½®</h2><p>åœ¨é¡¹ç›®ä¸­å®‰è£…ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$: <span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> standard-version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ–å…¨å±€å®‰è£…ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$: <span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> standard-version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å®‰è£…å®Œåï¼Œåœ¨é¡¹ç›®çš„ package.json ä¸­æ·»åŠ è„šæœ¬å‘½ä»¤:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token comment">// package.json</span>
<span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// other...</span>
    <span class="token property">&quot;release&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standard-version&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨" aria-hidden="true">#</a> ä½¿ç”¨</h2><p>åœ¨é¡¹ç›®ç›®å½•ä¸‹ä½¿ç”¨ï¼Œä»¥æ›´æ–° CHANGELOG å’Œç‰ˆæœ¬å·ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># æ–¹æ³• 1:  å±€éƒ¨å®‰è£…ä½¿ç”¨æ–¹æ³•</span>
$: npx standard-version
<span class="token comment"># æ–¹æ³• 2:  å±€éƒ¨å®‰è£…ä½¿ç”¨åˆšåˆšæ·»åŠ çš„è„šæœ¬å‘½ä»¤</span>
$: <span class="token function">npm</span> run release

<span class="token comment"># æ–¹æ³• 3:  è‹¥å…¨å±€å®‰è£…åˆ™ç›´æ¥ä½¿ç”¨</span>
$: standard-version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15),x={href:"http://CHANGELOG.md",target:"_blank",rel:"noopener noreferrer"},G=i(`<h2 id="å®šåˆ¶ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å®šåˆ¶ä½¿ç”¨" aria-hidden="true">#</a> å®šåˆ¶ä½¿ç”¨</h2><p>å®šåˆ¶ standard-versionï¼šstandard-version å·¥å…·æ”¯æŒå®šåˆ¶åŒ–é…ç½®ï¼Œä»¥æ»¡è¶³ä¸åŒé¡¹ç›®çš„éœ€æ±‚ã€‚å…·ä½“æ¥è¯´ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¿›è¡Œå®šåˆ¶åŒ–é…ç½®ï¼š</p><ul><li><p><code>--first-release</code>ï¼šç¼©å†™ <code>-f</code>ï¼ŒæŒ‡å®šæ˜¯å¦ä¸ºç¬¬ä¸€ä¸ªç‰ˆæœ¬å‘å¸ƒï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ä¸å‡çº§ç‰ˆæœ¬å·ï¼Œå¹¶ä¼šè‡ªåŠ¨å°†ç‰ˆæœ¬å·è®¾ç½®ä¸º 1.0.0ã€‚</p></li><li><p><code>--release-as &lt;version&gt;</code>ï¼šç¼©å†™ <code>-r &lt;version&gt;</code>ï¼Œæ‰‹åŠ¨æŒ‡å®šè¦å‘å¸ƒçš„ç‰ˆæœ¬å·ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$: standard-version <span class="token parameter variable">-r</span> minor
<span class="token comment"># output tag: v1.1.0</span>

$: standard-version <span class="token parameter variable">-r</span> <span class="token number">1.0</span>.0
<span class="token comment"># output tag: v1.0.0</span>

$: standard-version <span class="token parameter variable">-r</span> <span class="token number">1.0</span>.1-test
<span class="token comment"># output tag: v1.0.1-test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>--tag-prefix [prefix]</code>ï¼šç¼©å†™ <code>-t [prefix]</code>ï¼ŒæŒ‡å®š git æ ‡ç­¾çš„å‰ç¼€ï¼Œé»˜è®¤ä¸º <code>v</code>ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$: standard-version <span class="token parameter variable">-t</span> <span class="token string">&#39;stable-&#39;</span>
<span class="token comment"># output tag: stable-1.0.1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>--prerelease [suffix]</code>ï¼šç¼©å†™ <code>-p [prefix]</code>ï¼ŒæŒ‡å®š git æ ‡ç­¾çš„åç¼€ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$: standard-version <span class="token parameter variable">-p</span> <span class="token string">&#39;beta&#39;</span>
<span class="token comment"># output tag: v1.0.1-beta.0</span>

$: standard-version <span class="token parameter variable">-p</span> <span class="token string">&#39;beta&#39;</span>
<span class="token comment"># output tag: v1.0.1-0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>--dry-run</code>ï¼šç¼©å†™ <code>-d</code>ï¼Œè¿è¡Œ standard-version å‘½ä»¤çš„æ¨¡æ‹Ÿæ¨¡å¼ï¼Œä¸ä¼šå¯¹ä»£ç è¿›è¡Œå®é™…ä¿®æ”¹å’Œæäº¤ã€‚</p></li></ul><h2 id="ä½¿ç”¨æŠ€å·§" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨æŠ€å·§" aria-hidden="true">#</a> ä½¿ç”¨æŠ€å·§</h2><p>è‹¥æ˜¯åœ¨ package.json ä¸­æ·»åŠ äº†è„šæœ¬å‘½ä»¤</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token comment">// package.json</span>
<span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// other...</span>
    <span class="token property">&quot;release&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standard-version&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ™åœ¨é¡¹ç›®è¿è¡Œæ—¶ï¼Œä¹Ÿå¯æ·»åŠ å®šåˆ¶å‚æ•°ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$: <span class="token function">npm</span> run release -- --dry-run
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å…¶ä¸­ï¼Œç¬¬ä¸€ä¸ª <code>--</code> æ˜¯ä¸ºäº†å‘Šè¯‰ npm å‘½ä»¤åé¢çš„å‚æ•°å°†ä¼šè¢«ä¼ é€’ç»™æ‰§è¡Œçš„è„šæœ¬ï¼Œè€Œç¬¬äºŒä¸ª <code>--</code> æ˜¯ä¸ºäº†å°†å‚æ•°ä¼ é€’ç»™ <code>npm run release</code> å‘½ä»¤æ‰€è°ƒç”¨çš„è„šæœ¬ã€‚</p><p>å› æ­¤ï¼Œä¸ºäº†å°†å‚æ•°å‡†ç¡®åœ°ä¼ é€’ç»™æ‰§è¡Œçš„è„šæœ¬ï¼Œéœ€è¦åœ¨ npm run å‘½ä»¤åé¢æ·»åŠ ä¸¤ä¸ª <code>--</code>ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª <code>--</code> æ˜¯å‘Šè¯‰ npm å‘½ä»¤åé¢çš„å‚æ•°å°†ä¼šè¢«ä¼ é€’ç»™æ‰§è¡Œçš„è„šæœ¬ï¼Œè€Œç¬¬äºŒä¸ª <code>--</code> æ˜¯å°†å‚æ•°ä¼ é€’ç»™ npm run å‘½ä»¤æ‰€è°ƒç”¨çš„è„šæœ¬ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ‰èƒ½å¤Ÿæ­£ç¡®åœ°ä¼ é€’å‚æ•°å¹¶æ‰§è¡Œè„šæœ¬ã€‚</p>`,10);function j(C,N){const a=m("ExternalLinkIcon");return g(),b("div",null,[h,k,e("p",null,[e("a",_,[n("å®˜æ–¹æ–‡æ¡£ä¼ é€é—¨ ğŸšª"),s(a)])]),f,e("p",null,[n("è¿è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œstandard-version å·¥å…·ä¼šè‡ªåŠ¨æ ¹æ® Conventional Commits è§„èŒƒç”Ÿæˆæ–°çš„ç‰ˆæœ¬å·å’Œ changelogï¼Œå¹¶æ›´æ–° package.json å’Œ "),e("a",x,[n("CHANGELOG.md"),s(a)]),n(" æ–‡ä»¶ã€‚åŒæ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨æ‰“ä¸Š git æ ‡ç­¾ï¼Œå¹¶ç­‰å¾… git push æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚")]),G])}const q=d(u,[["render",j],["__file","standard-version.html.vue"]]);export{q as default};
