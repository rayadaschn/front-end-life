import{_ as o,Z as p,a3 as c,a0 as l,F as i,a1 as u,X as d,Y as r,$ as k}from"./framework-5dd7fabc.js";const v={},n=p,m=c,s=l,b=i,t=u,a=k,y=d,g=r,_=n("p",null,"æœ¬æ–‡å°†æ¢³ç†ä¸€éåœ¨ js ä¸­å¦‚ä½•å»ç›‘å¬é”®ç›˜æŒ‰é”®ã€‚",-1),h=a(`<h2 id="ç›‘å¬é”®ç›˜æŒ‰é”®" tabindex="-1"><a class="header-anchor" href="#ç›‘å¬é”®ç›˜æŒ‰é”®" aria-hidden="true">#</a> ç›‘å¬é”®ç›˜æŒ‰é”®</h2><p>åœ¨ js ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>addEventListener</code> æ–¹æ³•æ¥ç›‘å¬é”®ç›˜æŒ‰é”®ã€‚å…·ä½“ç”¨æ³•å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keydown&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// åœ¨è¿™é‡Œç¼–å†™æŒ‰é”®è¢«æŒ‰ä¸‹çš„é€»è¾‘</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>keydown</code> æ˜¯ä¸€ä¸ªäº‹ä»¶ç±»å‹ï¼Œè¡¨ç¤ºç›‘å¬é”®ç›˜æŒ‰é”®äº‹ä»¶ã€‚å½“ç”¨æˆ·æŒ‰ä¸‹é”®ç›˜ä¸Šçš„æŒ‰é”®æ—¶ï¼Œä¼šè§¦å‘è¯¥äº‹ä»¶ï¼Œå¹¶åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­æ‰§è¡Œç›¸åº”çš„é€»è¾‘ã€‚</p><p>è¦è·å–ç”¨æˆ·æŒ‰ä¸‹çš„æŒ‰é”®ï¼Œå¯ä»¥ä½¿ç”¨äº‹ä»¶å¯¹è±¡çš„ <code>key</code> å±æ€§ã€‚è¯¥å±æ€§ä¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºç”¨æˆ·æŒ‰ä¸‹çš„æŒ‰é”®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç”¨æˆ·æŒ‰ä¸‹äº† <code>A</code> é”®ï¼Œ<code>key</code> å±æ€§çš„å€¼å°†ä¼šæ˜¯ <code>&quot;A&quot;</code>ã€‚</p><h2 id="ascii-ç¼–ç " tabindex="-1"><a class="header-anchor" href="#ascii-ç¼–ç " aria-hidden="true">#</a> ASCII ç¼–ç </h2>`,6),f=n("code",null,"event.key",-1),C=n("code",null,"event.key",-1),E={href:"https://datatracker.ietf.org/doc/html/rfc20",target:"_blank",rel:"noopener noreferrer"},w=a(`<p>å…¶ä¸­æ•°å­— 0-9 çš„ ASCII ç¼–ç å€¼åˆ†åˆ«ä¸º 48-57ï¼Œå¤§å†™å­—æ¯ A-Z çš„ ASCII ç¼–ç å€¼åˆ†åˆ«ä¸º 65-90ï¼Œå°å†™å­—æ¯ a-z çš„ ASCII ç¼–ç å€¼åˆ†åˆ«ä¸º 97-122ã€‚</p><p>åœ¨ event å¯¹è±¡ä¸­ keycode è¡¨ç¤ºæŒ‰é”®çš„ ASCII ç¼–ç ï¼Œç”±æ­¤å¯ä»¥å¾—åˆ°ç¬¬ä¸€ä¸ªæŒ‰é”®ç›‘å¬å¤„ç†å‡½æ•°:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/** æŒ‰é”®ç›‘å¬å™¨å‡½æ•° */</span>
<span class="token keyword">function</span> <span class="token function">listenForKeyPress</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç›‘å¬ keydown äº‹ä»¶</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keydown&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–æŒ‰é”®ä»£ç </span>
    <span class="token keyword">const</span> keyCode <span class="token operator">=</span> event<span class="token punctuation">.</span>keyCode

    <span class="token comment">// æ£€æŸ¥æ˜¯å¦æ˜¯ a-z ã€A-Z å’Œ 0-9</span>
    <span class="token keyword">const</span> isLetter <span class="token operator">=</span>
      <span class="token punctuation">(</span>keyCode <span class="token operator">&gt;=</span> <span class="token number">48</span> <span class="token operator">&amp;&amp;</span> keyCode <span class="token operator">&lt;=</span> <span class="token number">57</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>keyCode <span class="token operator">&gt;=</span> <span class="token number">65</span> <span class="token operator">&amp;&amp;</span> keyCode <span class="token operator">&lt;=</span> <span class="token number">90</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> isNumber <span class="token operator">=</span> keyCode <span class="token operator">&gt;=</span> <span class="token number">48</span> <span class="token operator">&amp;&amp;</span> keyCode <span class="token operator">&lt;=</span> <span class="token number">57</span>

    <span class="token comment">// å¦‚æœæ˜¯ç¬¦åˆæ¡ä»¶çš„æŒ‰é”®ï¼Œè°ƒç”¨å›è°ƒå‡½æ•°</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isLetter <span class="token operator">||</span> isNumber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="token function">listenForKeyPress</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">ğŸš€ ~ You pressed: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>event<span class="token punctuation">.</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è¢«æ·˜æ±°çš„keyboardevent-keycode" tabindex="-1"><a class="header-anchor" href="#è¢«æ·˜æ±°çš„keyboardevent-keycode" aria-hidden="true">#</a> è¢«æ·˜æ±°çš„<code>KeyboardEvent.keyCode</code></h2><p>å€¼å¾—æ³¨æ„çš„æ˜¯ <code>KeyboardEvent.keyCode</code> å±æ€§å·²ç»è¢«åºŸå¼ƒäº†ï¼Œä½†æ˜¯ç›®å‰ä¸»æµæµè§ˆå™¨ç›®å‰ä»æ—§å¯ä»¥ä½¿ç”¨è¯¥å±æ€§æ¥ç›‘å¬é”®ç›˜æŒ‰é”®ã€‚å› æ­¤å¯è½¬ç”¨ <code>KeyboardEvent.key</code> æˆ–è€… <code>KeyboardEvent.code</code> æ¥æ£€æµ‹æŒ‰é”®ã€‚å®ƒä»¬ä¸‰è€…çš„åŒºåˆ«å¦‚ä¸‹:</p>`,5),x={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/keyCode#%E9%94%AE%E7%A0%81%E5%80%BC%C3%A5",target:"_blank",rel:"noopener noreferrer"},A=n("code",null,"KeyboardEvent.keyCode",-1),K=n("ul",null,[n("li",null,"ç±»å‹: æ•°å­—"),n("li",null,"å†…å®¹: è¡¨ç¤ºç‰©ç†æŒ‰é”®çš„æ•°å­—ä»£ç "),n("li",null,[s("ç‰¹ç‚¹: "),n("s",null,"å·²è¢«åºŸå¼ƒ"),s("ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºå®ƒåœ¨ä¸åŒæµè§ˆå™¨å’Œé”®ç›˜å¸ƒå±€ä¸­ä¸ä¸€è‡´ã€‚")])],-1),I=a("<li><code>KeyboardEvent.key</code>: <ul><li>ç±»å‹: å­—ç¬¦ä¸²</li><li>å†…å®¹: è¡¨ç¤ºæŒ‰é”®çš„å€¼ï¼Œå’Œç”¨æˆ·æŒ‰ä¸‹çš„é”®ç›¸å…³ã€‚æ¯”å¦‚ï¼ŒæŒ‰ä¸‹ <code>a</code> é”®æ—¶ï¼Œè¿”å› <code>&quot;a&quot;</code>ï¼ŒæŒ‰ä¸‹ <code>Shift + a</code> æ—¶ï¼Œè¿”å› <code>&quot;A&quot;</code>ã€‚</li><li>ç‰¹ç‚¹: <strong>åŒºåˆ†å¤§å°å†™</strong>ï¼Œåæ˜ ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ï¼Œ<strong>æ”¯æŒä¸åŒçš„é”®ç›˜å¸ƒå±€</strong>ã€‚</li></ul></li><li><code>KeyboardEvent.code</code>: <ul><li>ç±»å‹: å­—ç¬¦ä¸²</li><li>å†…å®¹: è¡¨ç¤ºç‰©ç†æŒ‰é”®çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼ŒQWERTY å¸ƒå±€é”®ç›˜ä¸Šçš„ <code>â€œqâ€</code> é”®è¿”å›çš„ code æ˜¯ <code>â€œKeyQâ€</code> ï¼Œä½† Dvorak é”®ç›˜ä¸Šçš„<code>â€œ&#39;â€</code> é”®å’Œ AZERTY é”®ç›˜ä¸Šçš„<code>â€œaâ€</code>é”®ä¹Ÿè¿”å›çš„ç›¸åŒ code å€¼ã€‚</li><li>ç‰¹ç‚¹: ç¨³å®šæ€§ä¸å¦‚<code>KeyboardEvent.key</code>ã€‚</li></ul></li>",2),N=a(`<p>å› æ­¤ç›®å‰ï¼Œæœ€ä¸ºç¨³å¦¥çš„æ˜¯é‡‡ç”¨ <code>KeyboardEvent.key</code> ç”¨å­—ç¬¦ä¸²å»ç›‘å¬æŒ‰é”®äº‹ä»¶ã€‚</p><ol><li><p>æ–¹å¼ä¸€ï¼šç›´æ¥å®šä¹‰æ‰€æœ‰æœ‰æ•ˆæŒ‰é”®ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ç›´æ¥å®šä¹‰æ‰€æœ‰æœ‰æ•ˆæŒ‰é”®</span>
<span class="token keyword">const</span> validKeys <span class="token operator">=</span>
  <span class="token string">&#39;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#39;</span>

<span class="token keyword">const</span> key <span class="token operator">=</span> event<span class="token punctuation">.</span>key

<span class="token comment">// æ£€æŸ¥æŒ‰é”®æ˜¯å¦åœ¨æœ‰æ•ˆæŒ‰é”®é›†åˆä¸­</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>validKeys<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">ğŸš€ ~ You pressed: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æ–¹å¼äºŒï¼šç”¨æ­£åˆ™æ£€æµ‹å­—ç¬¦ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// æŒ‰é”®ç›‘å¬å™¨å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">listenForKeyPress</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç›‘å¬ keydown äº‹ä»¶</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;keydown&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–æŒ‰é”®å€¼</span>
    <span class="token keyword">const</span> key <span class="token operator">=</span> event<span class="token punctuation">.</span>key

    <span class="token comment">// æ£€æŸ¥æ˜¯å¦æ˜¯ A-Z a-z æˆ– 0-9</span>
    <span class="token keyword">const</span> isLetter <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[A-Za-z]$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token keyword">const</span> isNumber <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[0-9]$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>

    <span class="token comment">// å¦‚æœæ˜¯ç¬¦åˆæ¡ä»¶çš„æŒ‰é”®ï¼Œè°ƒç”¨å›è°ƒå‡½æ•°</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isLetter <span class="token operator">||</span> isNumber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="token function">listenForKeyPress</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">ğŸš€ ~ You pressed: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>event<span class="token punctuation">.</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,2);function j(S,L){const e=b("ExternalLinkIcon");return y(),g("div",null,[_,m(" more "),h,n("p",null,[s("è‹¥æ˜¯ä¾æ® "),f,s(" å±æ€§å€¼æ¥ç›‘å¬é”®ç›˜çš„å„ç§æŒ‰é”®ï¼Œæ— éœ€å¯¹å„ä¸ªæŒ‰é”®æ¥ä¸€æ¬¡åˆ¤æ–­ï¼Œå› ä¸º "),C,s(" å±æ€§å€¼ä¼šè¿”å›å¯¹åº”æŒ‰é”®çš„ ASCII ("),n("a",E,[s("RFC 20"),t(e)]),s(") ç¼–ç å€¼ã€‚")]),w,n("ol",null,[n("li",null,[n("a",x,[A,t(e)]),s(": "),K]),I]),N])}const q=o(v,[["render",j],["__file","JS26.html.vue"]]);export{q as default};
