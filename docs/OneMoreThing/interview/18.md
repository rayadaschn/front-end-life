---
title: Interview -- åŸºç¡€æ‰‹å†™é¢˜
icon: note
date: 2023-10-26
category:
  - anonymous
tag:
  - note
star: false
# sticky: true
sticky: false
---

- [æ•°ç»„å»é‡æ–¹æ³•æ±‡æ€»](#æ•°ç»„å»é‡æ–¹æ³•æ±‡æ€»)
- [å¯¹è±¡ç›¸ç­‰åˆ¤æ–­](#å¯¹è±¡ç›¸ç­‰åˆ¤æ–­)
- [æ‰‹å†™ Array çš„ filterã€mapã€someã€every å’Œ reduce æ–¹æ³•](#æ‰‹å†™-array-çš„-filtermapsomeevery-å’Œ-reduce-æ–¹æ³•)
  - [æ‰‹å†™ filter](#æ‰‹å†™-filter)
  - [æ‰‹å†™ map](#æ‰‹å†™-map)
  - [æ‰‹å†™ some](#æ‰‹å†™-some)
  - [æ‰‹å†™ every](#æ‰‹å†™-every)
  - [æ‰‹å†™ reduce](#æ‰‹å†™-reduce)
- [å®ç°ä¸€ä¸ªç®€å•çš„æ¨¡æ¿å¼•æ“](#å®ç°ä¸€ä¸ªç®€å•çš„æ¨¡æ¿å¼•æ“)

## æ•°ç»„å»é‡æ–¹æ³•æ±‡æ€»

1. åˆ©ç”¨ `Set` å»é‡
2. åˆ©ç”¨ `for` å¾ªç¯éå†ï¼Œ`includes` ï¼ˆèƒ½è¯†åˆ« NANï¼‰ã€`indexOf`ï¼ˆä¸èƒ½è¯†åˆ« NANï¼‰

```js
// 1. set å»é‡
function unique(arr) {
  // æˆ–è€… return Array.from(new Set(arr))
  return [...new Set(arr)]
}

// 2. for å¾ªç¯éå†
function unique2(arr) {
  if (!Array.isArray(arr)) return
  const resArr = []
  for (const item of arr) {
    if (!resArr.includes(item)) {
      resArr.push(item)
    }
  }
  return resArr
}
```

## å¯¹è±¡ç›¸ç­‰åˆ¤æ–­

```js
function deepEqual(obj1, obj2) {
  if (obj1 === obj2) return true
  if (
    typeof obj1 !== 'object' ||
    obj1 === null ||
    typeof obj2 !== 'object' ||
    obj2 === null
  ) {
    return false
  }

  const keys1 = Object.keys(obj1)
  const keys2 = Object.keys(obj2)

  if (keys1.length !== keys2.length) return false

  for (const key of keys1) {
    if (!keys2.includes(key) || !deepEqual(obj1[key], obj2[key])) return false
  }
}
```

## æ‰‹å†™ Array çš„ filterã€mapã€someã€every å’Œ reduce æ–¹æ³•

### æ‰‹å†™ filter

```js
Array.prototype.myFilter = function (callback) {
  const len = this.length
  const res = []
  for (let i = 0; i < len; i++) {
    const item = this[i] // å½“å‰é¡¹
    if (callback(item)) {
      res.push(item)
    }
  }
  return res
}

const words = ['spray', 'elite', 'exuberant', 'destruction', 'present']
const result = words.myFilter((word) => word.length > 6)
console.log('ğŸš€ ~ myFilter:', result)
```

### æ‰‹å†™ map

```js
Array.prototype.myMap = function (callback) {
  const len = this.length
  const res = []
  for (let i = 0; i < len; i++) {
    const item = this[i]
    res.push(callback(item))
  }
  return res
}

const array = [1, 4, 9, 16]
const map1 = array.myMap((x) => x * 2)
console.log('ğŸš€ ~ myMap:', map1)
```

### æ‰‹å†™ some

```js
Array.prototype.mySome = function (callback) {
  const len = this.length
  for (let i = 0; i < len; i++) {
    const item = this[i]
    if (callback(item)) {
      return true
    }
  }
  return false
}

const array = [1, 2, 3, 4, 5]
const even = (element) => element % 2 === 0
console.log('ğŸš€ ~ mySome:', array.mySome(even))
```

### æ‰‹å†™ every

```js
Array.prototype.myEvery = function (callback) {
  const len = this.length
  for (let i = 0; i < len; i++) {
    const item = this[i]
    if (!callback(item)) {
      return false
    }
  }
  return true
}

const isBelowThreshold = (currentValue) => currentValue < 40
const array = [1, 30, 39, 29, 10, 13]

console.log('ğŸš€ ~ myEvery:', array.every(isBelowThreshold))
```

### æ‰‹å†™ reduce

```js
Array.prototype.myReduce = function (callback, pre) {
  const len = this.length
  for (let i = 0; i < len; i++) {
    if (pre !== undefined) {
      pre = callback(pre, this[i], i, this)
    } else {
      pre = callback(this[i], this[i + 1], i, this)
      i++ // æå‰ä¸€é¡¹ç»“æŸ
    }
  }
  return pre
}

const array = [1, 2, 3, 4]

// 0 + 1 + 2 + 3 + 4
const initialValue = 0
const sumWithInitial = array.reduce(
  (accumulator, currentValue) => accumulator + currentValue,
  initialValue
)
console.log('ğŸš€ ~ myReduce:', sumWithInitial)
```

## å®ç°ä¸€ä¸ªç®€å•çš„æ¨¡æ¿å¼•æ“

```js
const tpl = template('<p>hey there {{ name }} {{ name }}</p>')
const res = tpl({ name: 'Neo' })
console.log('ğŸš€ ~ template:', res)

function template(str) {
  return function (obj) {
    for (let key in obj) {
      const val = obj[key]
      const reg = new RegExp(`{{\\s+${key}\\s+}}`, 'g')
      str = str.replace(reg, val)
    }
    return str
  }
}
```
